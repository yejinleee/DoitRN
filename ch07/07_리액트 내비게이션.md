# 리액트 네비게이션

[07-1 리액트 내비게이션 패키지 이해하기](#07-1-리액트-내비게이션-패키지-이해하기)
[07-2 스택 내비게이션 이해하기](#07-2-스택-내비게이션-이해하기)
[07-3 탭 내비게이션 패키지 이해하기](#07-3-탭-내비게이션-패키지-이해하기)
[07-4 드로어 내비게이션 패키지 이해하기](#07-4-드로어-내비게이션-패키지-이해하기)

---

`npx react-native init 이름 --template react-native-template-typescript`

사용할 패키지

```
npm i react-native-vector-icons react-native-paper color faker@5.5.3 moment moment-with-locales-es6 react-native-keyboard-aware-scroll-view
npm i -D @types/react-native-vector-icons @types/color @types/faker@5.5.3
npx react-native link react-native-vector-icons
```

리액트 내비게이션 설치 패키지

```
npm i react-native-gesture-handler react-native-reanimated react-native-screens react-native-safe-area-context @react-native-community/masked-view @react-navigation/native
```

@react-navigation 중 패키지

```
npm i @react-navigation/stack @react-navigation/bottom-tabs @react-navigation/drawer
```

# 07-1 리액트 내비게이션 패키지 이해하기

리액트 내비게이션 기능 중 탭 내비게이션이 지금까지의 BottomNavigation컴포넌트를 대체합니다.

### NavigationContainer 컴포넌트

모든 내비게이션 화면 컴포넌트는 NavigationContainer의 자식 컴포넌트여야합니다.

### 리액트 내비게이션 테마

NavigationContainer는 theme이란 속성을 제공한다.

```
import {NavigationContainer, DefaultTheme, DarkTheme} from '@react-navigation/native';
...3
const [theme, setTheme] = useState(isDarkTheme ? DarkTheme : DefaultTheme)
...
<NavigationContainer theme={theme}>
```

### 리액트 내비게이션용 테마 컴포넌트 구현

@react-navigation/native가 제공하는 useTheme훅을 사용하는 내비게이션 용 테마 컴포넌트가 된다.

# 07-2 스택 내비게이션 이해하기

### 스택 내비게이션이란?

> 여러개의 화면 컴포넌트를 미리 만들어두고 그 중 하나만 화면에 표시한다.

navigation 객체의 navigate나 goBack 메서드를 호출한다.

#### createStackNavigator 함수

```
import {createStackNavigator} from '@react-navigation/stack';
...
const Stack = createStackNavigator();
...
<Stack.Navigator> //부모
    <Stack.Screen name="" component={} /> //자식 형태로 사용
    // 여기의 name 속성값은 화면에서 헤더에 위치하게 된다.
```

.Navigator의 속성

- initialRouteName 속성

  Navigator에 initialRouteName이 없으면 가장 먼저생기는 컴포넌트가 초기 화면에 나옴

- screenOptions 속성
  headerStyle(헤더 바탕색), headerTintColor(글자 색), headerTitleStyle(헤더 타이틀 글자 스타일), headerShown(헤더 렌더링 유무):boelean 등등.
  하지만 까다롭다. 화면컴포넌트에서 직접 헤더를 그리는 쪽이 더 간편하다

Stack.Screen 컴포넌트의 속성

- options 속성

  gestureDirection : 'horizontal'(default, 오른->왼 으로 진입) | 'horizontal-inverted'(왼->오른) | 'vertical' | 'vertical-inverted' <br/>
  cardStyleInterpolator(안드로이드시 이 설정까지 해야 수평 방향 화면 진입 가능) : interpolaotr

사용 예

```
<Stack.Screen name="HomeLeft" component={HomeLeft}
    options={{
        gestureDirection: 'horizontal-inverted',
        cardStyleInterpolator: interpolator
    }}
/>
```

#### useNavigation 커스텀 훅 함수 - 화면 이동하기

```

import {useNavigation} from '@react-navigation/native';
const navigation = useNavigation();
navigation.navigate('HomeLeft');

```

useNavigation 훅을 호출하여 navigation 객체를 얻을 수 있습니다. <br/>
이렇게 얻어진 navigation 객체는 아래의 세가지 메서드를 제공한다

```
navigate(routerName: string, params?: object): void; //다른 화면으로 이동할 수 있따. 두번째 인자로 파라미터를 줄 수 있다.

goBack(): void;

canGoBack(): boolean; // goBack메서드를 호출할 수 있는지 결정하는데 사용.

그래서, goBack함수는
const goBack = useCallBack(() => navigation.canGoBack() && navigation.goBack(),[]) 같은형태로 구현

```

#### useRoute 커스텀 훅 함수

```

import {useRoute} from '@react-navigation/native';
...
const route = useRoute();

```

```

//HomeRight.tsx에서
const goRight = useCallback(() => navigation.navigate('HomeRight', {id: D.randeomId(), [])
...
const route = useRoute();
{JSON.stringify(route, null, 2)}를 출력해보면
navigate의 두번째 매개변수로 넘겨진 객체가 params이란 속성에 값으로 저장되어있는걸 볼 수 있다.

```

> 즉, navigate(화면이름, params)형태로 정보를 전달하면 수신하는 쪽 화면은 useRoute 훅 호출로 얻은 route 객체의 params 속성에서 이 정보를 얻어갈 수있다.

#### 인스타그램 스타일 내비게이션 - 왼<->오 화면 드래깅으로 화면 전환

<!-- 06_4의 PanResponder의 onPanResponderMove 콜백함수를 만들어 구현  -->

# 07-3 탭 내비게이션 패키지 이해하기

### 탭 내비게이션이란?

이전까지 사용한 BottomNavigation컴포넌트와 같은 개념이다.

```
import {createBottomTabNavigation} from '@react-navigation/bottom-tabs';
const Tab = createBottomTabNavigation();

<Tab.Navigator>
    <Tab.Screem>
```

- 중첩 내비게이션

특정 내비게이션(Tab.Screen) 화면 컴포넌트를 다른 내비게이션(스택내비게이션이 구현된, 좌우 드래깅되면 다른화면 나오게 구현한)화면에서 사용할 수 있다.

Tab.Navigator 의

- screenOptions 속성 에 설정하는 객체는 tabBarIcon이란 속성을 사용할 수 있다.

Tab.Screen 의

- options 속성
<!-- 탭 내비게이션에 아이콘 p592~ -->

#### tabBarLabel과 tabBarBadge 속성 - 탭의 라벨 바꾸기, 배지 부착하기

Screen의 option 속성에서 설정한다.

- tabBarLabel

  기본 값은 name속성에 설정한 값

- tabBarBadge
  탭의 아이콘에 숫자 배지를 붙일 수 있다.

```
<Tab.Label options={{tabBarLabel: '새로정할라벨명', tabBarBadge: 3}} />
```

### 탭 화면 컴포넌트 간 이동하기

이 또한 스택내비게이션 처럼 navigation.navigate(화면이름) 으로 호출한다.

# 07-4 드로어 내비게이션 패키지 이해하기

### 드로어 내비게이션이란?

서랍(drawer)처럼 숨어있다가 화면 모서리를 드래깅 하면 나타나는 내비게이션.

```
import {createDrawerNavigator} from '@react-navigation/drawer';
...
const Drawer = createDrawerNavigator();
...
<Drawer.Navigato = drawerContent={DrawerContent}>
  <Drawer.Screen>
```

Drawer.Navigator 컴포넌트의
* drawerContent 속성
  이 속성에 값으로 준 컴포넌트이 서랍을 열었을 때 보인다
  

