# 컴포넌트 스타일링

[03-1 style 속성과 StyleSheet API 이해하기](#03-1-style-속성과-stylesheet-api-이해하기)

[03-2 View 컴포넌트와 CSS 박스 모델](#03-2-view-컴포넌트와-css-박스-모델)

[03-3 자원과 아이콘 사용하기](#03-3-자원과-아이콘-사용하기)

[03-4 컴포넌트 배치 관련 스타일 속성 탐구하기](#03-4-컴포넌트-배치-관련-스타일-속성-탐구하기)

[03-5 재사용할 수 있는 컴포넌트 만들기](#03-5-재사용할-수-있는-컴포넌트-만들기)

---

`npx react-native init {생성할 프로젝트명} --template react-native-template-typescript`

# 03-1 style 속성과 StyleSheet API 이해하기

### style 속성과 스타일 객체

> 스타일 객체를 style 속성에 설정하는 것 : 인라인 스타일

```
<SafeAreaViw style={ {객체} }>
```

바깥쪽 {}는 JSX 구문 문법, 안쪽 {}이 스타일 객체

#### lower camelCase

```
<SafeAreaViw style={ {flex:1, backgroundColor :'blue'} }>
```

#### style 속성에 배열 설정

```
<SafeAreaViw style={ [스타일_객체1, 스타일_객체2, ...] }>
```

배열 안의 스타일 객체를 모두 결합하여 하나의 스타일 객체로 만들어준다.

#### '뷰' 컴포넌트의 vackgroundColor 스타일 속성

코어 컴포넌트 중 이름에 'View'가 들어간 뷰 컴포넌트(View, ScrollView, SafeAreaView 등)는 backgroundColor 속성으로 자신의 바탕색을 설정할 수 있다.

### StyleSheet API

> StyleSheet라는 API를 지정하여 설정

```
import {StyleSheet} from 'react-native`
```

StyleSheet.create 메서드

```
const styles = StyleSheet.create({
    키이름1:스타일객체1,
    safeAreaView : {flex:1, alignItems :'center'},
    text:{fontSize : 20},
    ...
})
```

컴포넌트 return 값에서는

```
<SafeAreaViw style = {[styles.safeAreaview, {backgroundColor:'blue]}>
    <Text style={ [styles.text, {color:'white'} ]}>
```

---

🚨 error Android project not found. Are you sure this is a React Native project? If your Android files are located in a non-standard location (e.g. not inside 'android' folder), consider setting `project.android.sourceDir` option to point to a new location.

🤕 npm i glob@7.2.0

---

# 03-2 View 컴포넌트와 CSS 박스 모델

### Platform과 Dimensions API

```
import {Platform, Dimenstions} from 'react-native'
```

#### Platform API

- Platform.OS<br/>
  앱이 실행되는 폰 확인 -> 'android' 혹은 'ios'

- Platform.select <br/>
  운영체제에 따라 동작이 다를 때 각각 대처하는 방법

```
_ = Platform.select({
    ios: //ios일때의 값,
    android : //android일때의 값,
})
```

#### Dimensions API

- Dimensions.get('window')<br/>
  앱이 실행된 폰의 크기 확인

```
const {width, height} = Dimensions.get('window')
```

폰을 가로모드로 돌려도 동일한 값이다.

### 뷰 컴포넌트의 backgroundColor 스타일 속성

이름에 'View'자가 들어간 뷰 컴포넌트는 backgroundColor 속성을 설정할 수 있다.

### width와 height 스타일 속성과 값 설정 방법

- RN의 기본 설정 따르는 방법
  - width : 부모 컴포넌트의 width 값 그대로 상속
  - height : 자식 요소의 height (수평 배치시 자식의 height들 중 가장 큰 값, 수직 배치시 자식 요소 height들 합)
- 명시적으로 픽셀 단위의 값을 설정하는 방법
  ```
  const {width, height} = Dimenstions.get('window')
  ...
  safeAreaView : {backgroundColor : Colors.blue500, height: height}
  ...
  ```
- 부모 요소의 크기를 기준으로 퍼센트(%)로 설정하는 방법
  ```
  , height : '100%' }
  ```
  - 주의, 가장 바깥쪽 컴포넌트의 부모는 App이 아닌 네이티브 컴포넌트다.<br/>
    그리고 이 네이티브 컴포넌트의 크기는 폰의 크기와 같다.<br/>
    즉, Dimensions.get('window')의 크기다.

### flex 속성

- flex: 1은 height: '100%'와 같은효과 <br/>
  부모 요소를 상속하는 비율. flex:0.5면 height:'50%'인것)<br/>
  (flex:0 이면 부모 컴포넌트의 높이를 나눠갖지 않고 자신의 자식 컴포넌트 들의 높이만 자신의 높이로 가짐)

- width, height 속성의 우선순위가 flex의 우선순위보다 높음.
- Text 컴포넌트에는 flex 스타일 속성을 부여할 수 없다.(Text를 View 등으로 감싸서 적용하면 된다.)

### margin 스타일 속성

marginTop, marginRight, marginBottom, marginLeft

해당요소가 해당 방향에서부터 멀어질 간격 설정

### padding 스타일 속성

부모/자식 관계에서 부모 컴포넌트 쪽에 적용.

paddingTop, paddingRight, paddingBottom, paddingLeft

각 방향에서 자식 컴포넌트가 자신의 영역에서 얼마나 떨어지는 지 조정.

### border 관련 스타일 속성

- borderWidth (borderLeftWidth, borderRightWidth, borderTopWidth, borderBottomWidth)

- borderColor (borderLeftColor, borderRightColor, borderTopColor, borderBottomColor)

- borderRadius (borderLeftRadius, borderRightRadius, borderTopRadius, borderBottomRadius)

- borderStyle (borderLeftStyle, borderRightStyle, borderTopStyle, borderBottomStyle)

# 03-3 자원과 아이콘 사용하기

자원이란, 앱에 포함하여 배포하는 이미지, 폰트, 아이콘 등의 파일

`npm i react-native-vector-icons react-native-paper color faker@5.5.3`<br/>
`npm i @types/color @types/faker@5.5.3`<br/>
`npm i -D @types/react-native-vector-icons`

### ImageBackground 코어 컴포넌트

```
import {ImageBackground} from 'react-native'
```

이름에 Image가 포함된 컴포넌트는 항상 source속성에 require를 사용하여 읽는 방식으로 파일을 설정한다 !!

```
<ImageBackground style={{flex: 1}} source={require('./src/assets/images/bg.jpg')} />
```

이름에 View는 없지만 View가 들어간 컴포넌트 처럼 자식 컴포넌트를 가질 수 있다.

### Image 코어 컴포넌트

```
<Image={{uri: 이미지_파일_웹_주소}} />
```

### 폰트 직접 설치하고 사용하기

🔜🔜🔜🔜🔜🔜🔜🔜🔜🔜🔜🔜🔜🔜

#### react-native-vector-icons 아이콘 패키지

아이콘 가져오기

```
import Icon from 'react-native-vector-icons/아이콘_세트_이름'
```

```
<Icon name="아이콘_이름" size={아이콘_크기} color='아이콘_색상' onPress={콜백_함수} />
```

react-native-vector-icons 예시 : https://oblador.github.io/react-native-vector-icons/

🚨 icon이 뜨지 않고 엑스박스로 나올 때

💡android/app/build.gradle 파일에 apply from: "../../node_modules/react-native-vector-icons/fonts.gradle 추가
후에 `npm run android` 다시 실행하기!!

참고 - https://unchae.tistory.com/entry/RN-react-native-vector-icons-%EC%97%91%EB%B0%95%EC%9C%BC%EB%A1%9C-%EB%9C%B0-%EA%B2%BD%EC%9A%B0

# 03-4 컴포넌트 배치 관련 스타일 속성 탐구하기

### flex: 1과 height: '100%'의 차이

#### flex: 1 이라고 설정하면, <br />

그렇게 설정된 컴포넌트는 부모 컴포넌트의 height 여분까지 모두 자신의 height로 만든다.<br />
\_\_ 헷갈리면 안되는게, 그 컴포넌트 뒤로 다른 형제 컴포넌트가 있다면, 부모의 여분까지 자신의 height로 삼아서 높이를 키운다음 그 뒤에 형제 컴포넌트가 붙는 셈.

#### height: '100%'

다른 형제 컴포넌트의 height와 무관하게 부모 컴포넌트의 높이를 모두 가져온다.

### flexDirection 스타일 속성

```
flexDirection : 'row'
flexDirection : 'column' //default
```

### alignItems 스타일 속성

부모 요소의 높이나 넓이에 여분 이 있을 때 이를 이용하여 자식 요소 배치 조정.

```
'left', 'center', 'right', 'stretch'
```

flexDirection 속성값에 따라 동작 방향 달라짐 주의.

### justifyContent 스타일 속성

```
'flex-start'(default), 'center', 'flex-end',
// 부모 요소의 수평 방향 여백을 고려한다면 space-
'space-around', //폰 좌우에 padding을 조금 두고 같은 간격 띄우기 |+ㅇ++ㅇ++ㅇ+|
'space-between', // 폰 좌우에 padding 없이 같은 간격 띄우기 |ㅇ+++ㅇ+++ㅇ|
'space-evenly' // 부모의 여분을 균등하게 나누어 양쪽 padding과 간격에 두기 |++ㅇ++ㅇ++ㅇ++|
```

### flewWrap 스타일 속성

```
nowrap(default), wrap //화면넘치지 않게 줄 바꿔가며 렌더링, wrap-reverse
```

### overflow 스타일 속성

```
visible, hidden, scroll//웹처럼 스크롤바가 나오진않는다. RN 스크롤은 ScrollView나 FlatList코어 컴포넌트에서만 가능하기 때문.
```

### ScrollView의 contentContainerStyle 속성

style 속성 외에 contentContainerStyle 속성 제공.

여기 속성 값으로 스타일 객체 설정해야 함.

단! flex:1 을 설정하면 안된다!

### 플로팅 액션 버튼

# 03-5 재사용할 수 있는 컴포넌트 만들기

### ScrollView 대신 FlatList 코어 컴포넌트 사용하기

FlatList는 리액트 네이티브 렌더링에 최적화 되어 있다.<br />
똑같은 컴포넌트를 여러 개 렌더링 한다면 FlatList를 사용하는 것이 더 빠르다.

```
import {FlatList} from 'react-native'
```

사용방법

```
<FlatList
  data={출력하고 싶은 데이터}
  renderItem={({item}) => <컴포넌트 프롭스이름={인자} />}
/>
```

(173p)

- 타입 스크립트 관점에서 타입T의 배열 T[] 타입 데이터를 data 속성에 설정하려면 renderItem에는 ({item} : {item:T}) => { }, 즉 T타입 데이터이며 item이란 이름의 속성이 있는 객체를 매개변수로 하는 콜백 함수를 설정해야 한다. <br/>
- 그런데, key속성 설정 부분은 없다! FlatList는 keyExtractor 속성에 item과 index값이 매개변수인 콜백 함수를 지정하여 renderItem에 있는 콜백함수가 반환하는 컴포넌트의 key 속성에 설정할 값을 얻는다.<br />
  item.id 혹은 index.toString() 이용
- ItemSeparatorComponent 속성 <br/>
  이 속성에 설정한 콜백함수가 반환하는 컴포넌트를 아이템과 아이템 간의 구분자 역할을 하는 컴포넌트로 삽입.

```
<FlatList
  data={출력하고 싶은 데이터}
  renderItem={({item}) => <컴포넌트 프롭스이름={인자} />}
/>
```

### moment 패키지 기능 사용하기

`npm i moment moment-with-locales-es6`

패키지를 불러와 언어 설정하기<br/>

```
import moment from 'moment-with-locales-es6'
```

```
moment.locale('ko')
```

```
import moment from 'moment';
```

```
moment(person.createdDate).format('llll')
moment(person.modifiedDate).format('llll')
moment(person.createdDate).startOf('day').fromNow() // 과거와 현재 시간 차이
```

### 재사용할 수 있는 컴포넌트란?

어떤 패턴의 코드에도 항상 적용할 수 있는 사용자 컴포넌트

ReactNode 타입, children, 속성 전달 기법을 모두 알아야 함 !

#### children 속성과 ReactNode 타입

##### + 타입스크립트 교집합 타입 구문

A | B == 합집합

A & B == 교집합

### TouchableView 컴포넌트 만들기

#### ComponentProps 타입

```
import type {ComponentProps} from 'react';
```

```
속성_타입 = ComponentProps<type of 컴포넌트_이름>
```

이런 형식으로 사용하는 제네릭 타입이다.

컴포넌트의 타입을 알아낼 수 있다.

#### JSX{...props} 구문

잔여 연산자 ...

```
type TouchableOpacityProps = ComponentProps<typeof TouchableOpacity>;

//타입스크립트 교집합을 사용하여 타입 선언.
export type TouchableViewProps = TouchableOpacityProps & {
  children?: ReactNode;
};

//prettier-ignore
export const TouchableView: FC<TouchableViewProps> = ({
    children, ...touchableProps }) => { //children 외 나머지 속성을 한번에 touchableProps로
  return (
```

\* TouchableOpacity 는 <Button \>개념으로 쓰임

#### FC 타입과 children 속성

함수 컴포넌트 타입인 FC타입은 ReactNode타입인 children 속성을 포함한다.

그래서 위 코드의 export type에서 ComponentProps만 있어도 된다.

```
export type TouchableViewProps = TouchableOpacityProps;
```

#### StyleProp 타입

```
import type {StyleProp} from 'react-native'
```

##### + 모든 RN컴포넌트 그 컴포넌트이름Style 형식의 타입을 제공한다.

```
import type {ViewStyle, TextStyle, ImageStyle} from 'react-native'
```

styleProp 타입은 제네릭 타입임.

사용법

```
viewStyle?: StyleProp<ViewStyle>
```

### Avatar 컴포넌트 만들기 🤔🤔🤔🤔

사용할 모습

```
<Avatar uri={person.avatar} size={50} viewStyle={styles.avatar} onPress={onPress}>
```

### IconText 컴포넌트 만들기

#### Text 코어 컴포넌트의 속성 탐구

Text 컴포넌트는 화면에 텍스트를 렌더링하는 컴포넌트

텍스트 줄 수 제한 : numberOfLines={숫자} 속성

위 속성에 따라 텍스트 일부가 안보일 때 ...로 보여주기 위해 ellipsizeMode 속성
<br/>
-> head, middle, tail, clip

밑줄 속성 : textDecorationLine : 'underline', textDecorationColor: 'blue',

### Person 컴포넌트 스타일 완료

.
.
.
.

---

### 타입스크립트랑 친해지자..뚝딱 뚝..

> 타입지정

https://velog.io/@wndud0647/TIL-25-TypeScript-%ED%83%80%EC%9E%85-%EC%84%A0%EC%96%B8-%EB%B0%8F-%EC%A2%85%EB%A5%98

const 변수명 : number = add(1,2);

이라면 여기서 :number는 이 const변수의 반환값이 number 타입이라는것

const TouvhableView: FC<TouvhableViewProps> = ({children}) => {

}

이런 코드면 저 FC<>는 뭘지정한 .. .. ?

> ?:

지정해도 되고 안해도 되는

> 제네릭

https://joshua1988.github.io/ts/guide/generics.html#%EC%A0%9C%EB%84%A4%EB%A6%AD%EC%9D%84-%EC%82%AC%EC%9A%A9%ED%95%98%EB%8A%94-%EC%9D%B4%EC%9C%A0

### 뚝딱뚝

- ReactNode
  type ReactNode = ReactChild | ReactFragment | ReactPortal | boolean | null | undefined

출처: https://simsimjae.tistory.com/426 [104%]

> 포맷팅

const countIconPressed = (named: string) => () => Alert.alert(`${name} pressed.`);
